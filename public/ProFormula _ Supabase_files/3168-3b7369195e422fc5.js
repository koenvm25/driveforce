"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3168],{64795:function(e,t,s){s.d(t,{Y:function(){return a},K:function(){return i}});var r=s(88983),n=s(24246),a=["Pricing","My project isn't getting traction","Poor customer service","Missing feature","I didn't see the value","Supabase didn't meet my needs","Dashboard is too complicated","Postgres is too complicated","Problem not solved","Bug issues","I decided to use something else","My work has finished/discontinued","I\u2019m migrating to/starting a new project","None of the above"],i=[{title:"Database",icon:(0,n.jsx)(r.OQ8,{className:"dark:text-scale-100",size:16,strokeWidth:2}),features:[{key:"db_size",attribute:"total_db_size_bytes",title:"Database size",units:"bytes",costPerUnit:.125,tooltip:(0,n.jsxs)("span",{children:["Billing is based on the average daily database size in GB throughout the billing period."," ",(0,n.jsx)("a",{href:"https://supabase.com/docs/guides/platform/database-usage",target:"_blank",children:"Docs"})]})},{key:"db_egress",attribute:"total_egress_modified",title:"Database egress",units:"bytes",costPerUnit:.09,tooltip:(0,n.jsx)("span",{children:"Database egress contains any outgoing traffic (egress) from your database. Billing is based on the total sum of egress in GB throughout your billing period."})}]},{title:"Auth",icon:(0,n.jsx)(r.Ol,{className:"dark:text-scale-100",size:16,strokeWidth:2}),features:[{key:"monthly_active_users",attribute:"total_auth_billing_period_mau",title:"Monthly Active Users",units:"absolute",costPerUnit:.00325,tooltip:(0,n.jsx)("span",{children:"The amount of distinct users requesting your API throughout the billing period. Resets at the beginning of every billing period."})}]},{title:"Storage",icon:(0,n.jsx)(r.fO3,{className:"dark:text-scale-100",size:16,strokeWidth:2}),features:[{key:"storage_size",attribute:"total_storage_size_bytes",title:"Storage space",units:"bytes",costPerUnit:.021,tooltip:(0,n.jsx)("span",{children:"The storage size is the sum of all objects in your storage buckets. Billing is based on the average size in GB throughout your billing period."})},{key:"storage_egress",attribute:"total_storage_egress",title:"Storage egress",units:"bytes",costPerUnit:.09,tooltip:(0,n.jsx)("span",{children:"Storage egress contains any outgoing traffic (egress) from your storage buckets, only download operations are counted. We currently do not differentiate between no-cache and cache hits. Billing is based on the total amount of egress in GB throughout your billing period."})},{key:"storage_image_render_count",attribute:"total_storage_image_render_count",title:"Storage Images Transformed",units:"absolute",costPerUnit:.005,tooltip:(0,n.jsx)("span",{children:"We distinctly count all images that were transformed in the billing period, ignoring any transformations. If you transform one image with different transformations (i.e. once with height=50 and once with height=150), it only counts as one. We only count the unique (origin) images being transformed."})}]},{title:"Functions",icon:(0,n.jsx)(r.seM,{className:"dark:text-scale-100",size:16,strokeWidth:2}),features:[{key:"func_count",attribute:"total_func_count",title:"Function Count",units:"absolute",costPerUnit:.1,tooltip:(0,n.jsx)("span",{children:"We continuously monitor the amount of serverless functions in your project. Billing is based on the maximum amount of functions at any point in time throughout your billing period."})},{key:"func_invocations",attribute:"total_func_invocations",title:"Function Invocations",units:"absolute",costPerUnit:2e-6,tooltip:(0,n.jsx)("span",{children:"Every single serverless function invocation independent of response status is counted. Billing is based on the sum of all invocations throughout your billing period."})}]}]},53168:function(e,t,s){s.d(t,{EY:function(){return ve},RK:function(){return ye},mc:function(){return we},LQ:function(){return m},WQ:function(){return N}});var r=s(55732),n=s(79305),a=s(34707),i=s.n(a),o=s(88983),c=s(68043),l=s(42791),u=s(20796),d=s(14919),p=s(33003),h=s(24246),m=function(e){var t,s;(0,n.Z)(e);var a=(0,l.oR)(),m=a.app,x=a.ui,f=x.selectedProject,j="project-general-settings",v={name:null!==(t=null===f||void 0===f?void 0:f.name)&&void 0!==t?t:"",ref:null!==(s=null===f||void 0===f?void 0:f.ref)&&void 0!==s?s:""},b=(0,l.FH)(c.KA.UPDATE,"projects"),g=function(){var e=(0,r.Z)(i().mark((function e(t,s){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.resetForm,e.next=3,(0,d.v_)("".concat(u.T5,"/projects/").concat(null===f||void 0===f?void 0:f.ref,"/update"),{name:t.name});case 3:(n=e.sent).error?x.setNotification({category:"error",message:"Update project failed: ".concat(n.error.message)}):(a=n.name,r({values:{name:a},initialValues:{name:a}}),m.onProjectUpdated(n),x.setNotification({category:"success",message:"Successfully saved settings"}));case 5:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}();return(0,h.jsx)(o.l09,{id:j,initialValues:v,onSubmit:g,children:function(e){var t=e.isSubmitting,s=e.handleReset,r=e.values,n=e.initialValues,a=JSON.stringify(r)!==JSON.stringify(n);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(p.ph,{title:"Project Settings",description:""}),(0,h.jsx)(p.by,{disabled:!b,footer:(0,h.jsx)("div",{className:"flex py-4 px-8",children:(0,h.jsx)(p.iN,{form:j,isSubmitting:t,hasChanges:a,handleReset:s,helper:b?void 0:"You need additional permissions to manage this project's settings"})}),children:(0,h.jsx)(p.hj,{header:(0,h.jsx)(p.S0,{children:"General settings"}),children:(0,h.jsxs)(p.B4,{loading:!1,children:[(0,h.jsx)(o.IIB,{id:"name",size:"small",label:"Project name",disabled:!b}),(0,h.jsx)(o.IIB,{copy:!0,disabled:!0,id:"ref",size:"small",label:"Reference ID"})]})})})]})}})},x=s(25229),f=s(27378),j=s(86677),v=s(24532),b=s(96364),g=(0,x.Pi)((function(e){var t,s=e.projectRef,n=e.projectId,a=(0,l.oR)(),p=a.ui,m=a.app,x=(0,j.useRouter)(),g=(0,f.useState)(!1),y=g[0],w=g[1],N=(0,f.useState)(!1),k=N[0],O=N[1],P=function(){return O(!1)},S=(null===p||void 0===p||null===(t=p.selectedProject)||void 0===t?void 0:t.status)===u.S.INACTIVE,R=(0,l.FH)(c.KA.INFRA_EXECUTE,"queue_jobs.projects.pause"),_=function(){var e=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R){e.next=2;break}return e.abrupt("return",p.setNotification({category:"error",message:"You do not have the required permissions to pause this project"}));case 2:return w(!0),e.next=5,(0,d.v_)("".concat(u.T5,"/projects/").concat(s,"/pause"),{});case 5:(t=e.sent).error?(p.setNotification({error:t.error,category:"error",message:"Failed to pause project"}),w(!1)):(m.onProjectPaused(n),m.onProjectStatusUpdated(n,u.S.GOING_DOWN),p.setNotification({category:"success",message:"Pausing project"}),x.push("/project/".concat(s))),P();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(v.fC,{delayDuration:0,children:[(0,h.jsx)(v.xz,{children:(0,h.jsx)(o.zxk,{type:"default",icon:(0,h.jsx)(o.kyG,{}),onClick:function(){return O(!0)},loading:y,disabled:S||!R,children:"Pause Project"})}),S?(0,h.jsxs)(v.VY,{side:"bottom",children:[(0,h.jsx)(v.Eh,{className:"radix-tooltip-arrow"}),(0,h.jsx)("div",{className:["rounded bg-scale-100 py-1 px-2 leading-none shadow","border border-scale-200 "].join(" "),children:(0,h.jsx)("span",{className:"text-xs text-scale-1200",children:"Your project is already paused"})})]}):R?(0,h.jsx)(h.Fragment,{}):(0,h.jsxs)(v.VY,{side:"bottom",children:[(0,h.jsx)(v.Eh,{className:"radix-tooltip-arrow"}),(0,h.jsx)("div",{className:["rounded bg-scale-100 py-1 px-2 leading-none shadow","border border-scale-200 "].join(" "),children:(0,h.jsx)("span",{className:"text-xs text-scale-1200",children:"You need additional permissions to pause this project"})})]})]}),(0,h.jsx)(b.Z,{danger:!0,visible:k,title:"Pause this project?",description:"Are you sure you want to pause this project? It will not be accessible until you unpause it.",buttonLabel:"Pause project",buttonLoadingLabel:"Pausing project",onSelectCancel:P,onSelectConfirm:_})]})})),y=g,w=(0,x.Pi)((function(e){var t=e.project,s=(0,l.oR)(),n=s.ui,a=s.app,p=(0,j.useRouter)(),m=(0,f.useState)(!1),x=m[0],g=m[1],y=(0,f.useState)(),w=y[0],N=y[1],k=t.id,O=t.ref,P=t.region,S=(0,l.FH)(c.KA.INFRA_EXECUTE,"reboot"),R=function(){var e=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=2;break}return e.abrupt("return",n.setNotification({category:"error",message:"You do not have the required permissions to restart this project"}));case 2:return g(!0),e.next=5,(0,d.v_)("".concat(u.T5,"/projects/").concat(O,"/restart"),{});case 5:(t=e.sent).error?C(t.error,"project"):D();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=2;break}return e.abrupt("return",n.setNotification({category:"error",message:"You do not have the required permissions to restart this project"}));case 2:return g(!0),e.next=5,(0,d.v_)("".concat(u.T5,"/projects/").concat(O,"/restart-services"),{restartRequest:{region:P,services:["postgresql"]}});case 5:(t=e.sent).error?C(t.error,"database"):D();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(e,t){n.setNotification({error:e,category:"error",message:"Unable to restart ".concat(t)}),g(!1),N(void 0)},D=function(){a.onProjectPostgrestStatusUpdated(k,"OFFLINE"),n.setNotification({category:"success",message:"Restarting server"}),p.push("/project/".concat(O)),g(!1),N(void 0)};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(v.fC,{delayDuration:0,children:[(0,h.jsx)(v.xz,{children:(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)(o.zxk,{type:"default",className:"rounded-r-none px-3",disabled:!S,onClick:function(){return N("project")},children:"Restart project"}),S&&(0,h.jsx)(o.Ltx,{align:"end",side:"bottom",overlay:[(0,h.jsx)(o.Ltx.Item,{disabled:x,onClick:function(){N("database")},children:(0,h.jsxs)("div",{className:"space-y-1",children:[(0,h.jsx)("p",{className:"block text-scale-1200",children:"Fast database reboot"}),(0,h.jsx)("p",{className:"block text-scale-1100",children:"Restarts only the database - faster but may not be able to recover from all failure modes"})]})},"database")],children:(0,h.jsx)(o.zxk,{type:"default",className:"rounded-l-none px-[4px] py-[5px]",icon:(0,h.jsx)(o.C26,{}),disabled:!S})})]})}),!S&&(0,h.jsxs)(v.VY,{side:"bottom",children:[(0,h.jsx)(v.Eh,{className:"radix-tooltip-arrow"}),(0,h.jsx)("div",{className:["rounded bg-scale-100 py-1 px-2 leading-none shadow","border border-scale-200 "].join(" "),children:(0,h.jsx)("span",{className:"text-xs text-scale-1200",children:"You need additional permissions to restart this project"})})]})]}),(0,h.jsx)(b.Z,{danger:!0,visible:void 0!==w,title:"Restart ".concat(w),description:(0,h.jsxs)(h.Fragment,{children:["Are you sure you want to restart the"," ",(0,h.jsx)("span",{className:"text-scale-1200",children:w}),"? There will be a few minutes of downtime."]}),buttonLabel:"Restart",buttonLoadingLabel:"Restarting",onSelectCancel:function(){return N(void 0)},onSelectConfirm:(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("project"!==w){e.next=5;break}return e.next=3,R();case 3:e.next=8;break;case 5:if("database"!==w){e.next=8;break}return e.next=8,_();case 8:case"end":return e.stop()}}),e)})))})]})})),N=(0,x.Pi)((function(e){(0,n.Z)(e);var t=(0,l.oR)().ui.selectedProject,s=(null===t||void 0===t?void 0:t.subscription_tier)===u.ev.FREE;return(0,h.jsxs)("div",{children:[(0,h.jsx)(p.ph,{title:"Infrastructure",description:""}),(0,h.jsx)(p.by,{footer:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"flex w-full items-center justify-between px-8 py-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-sm",children:"Restart server"}),(0,h.jsx)("div",{className:"max-w-[420px]",children:(0,h.jsx)("p",{className:"text-sm text-scale-1100",children:"Your project will not be available for a few minutes."})})]}),t&&(0,h.jsx)(w,{project:t})]}),s&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"border-t border-scale-400"}),(0,h.jsxs)("div",{className:"flex w-full items-center justify-between px-8 py-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-sm",children:"Pause project"}),(0,h.jsx)("div",{className:"max-w-[420px]",children:(0,h.jsx)("p",{className:"text-sm text-scale-1100",children:"Your project will not be accessible while it is paused."})})]}),t&&(0,h.jsx)(y,{projectId:t.id,projectRef:t.ref})]})]})]}),children:(0,h.jsx)(p.hj,{header:(0,h.jsx)(p.S0,{children:"Configuration"}),children:(0,h.jsxs)(p.B4,{loading:void 0===t,children:[(0,h.jsx)(o.IIB,{readOnly:!0,disabled:!0,value:null===t||void 0===t?void 0:t.cloud_provider,label:"Cloud provider"}),(0,h.jsx)(o.IIB,{readOnly:!0,disabled:!0,value:null===t||void 0===t?void 0:t.region,label:"Region"})]})})})]})})),k=s(79894),O=s(2288),P=s(90849),S=s(90089),R=s(36492),_=function(e){return["projects",e,"custom-domains"]},C=["enabled"];function D(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function E(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?D(Object(s),!0).forEach((function(t){(0,P.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):D(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function Z(e,t){return T.apply(this,arguments)}function T(){return(T=(0,r.Z)(i().mark((function e(t,s){var r,n,a,o,c,l,p,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectRef){e.next=3;break}throw new Error("projectRef is required");case 3:return e.next=5,(0,d.U2)("".concat(u.Q2,"/projects/").concat(n,"/custom-hostname"),{signal:s});case 5:if(!(a=e.sent).error){e.next=14;break}if(!(400===(null===(o=a.error)||void 0===o?void 0:o.code)&&(null===(c=a.error)||void 0===c||null===(l=c.message)||void 0===l?void 0:l.includes("not allowed to set up custom domain")))){e.next=10;break}return e.abrupt("return",{customDomain:null,status:"0_not_allowed"});case 10:if(!(400===(null===(p=a.error)||void 0===p?void 0:p.code)&&(null===(h=a.error)||void 0===h||null===(m=h.message)||void 0===m?void 0:m.includes("custom hostname configuration")))){e.next=13;break}return e.abrupt("return",{customDomain:null,status:"0_no_hostname_configured"});case 13:throw a.error;case 14:return e.abrupt("return",{customDomain:null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.result,status:a.status});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=s(96423),L=s(69497),z=s(85945),I=s(48228),F=["onSuccess"];function M(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function U(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?M(Object(s),!0).forEach((function(t){(0,P.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):M(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function q(e){return Y.apply(this,arguments)}function Y(){return(Y=(0,r.Z)(i().mark((function e(t){var s,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.projectRef){e.next=3;break}throw new Error("projectRef is required");case 3:return e.next=5,(0,d.$v)("".concat(u.Q2,"/projects/").concat(s,"/custom-hostname"),{});case 5:if(!(r=e.sent).error){e.next=8;break}throw r.error;case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,s=(0,S.Z)(e,F),n=(0,z.NL)();return(0,I.D)((function(e){return q(e)}),U({onSuccess:function(e,s,a){return(0,r.Z)(i().mark((function r(){var o;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=s.projectRef,n.setQueriesData(_(o),(function(){return{customDomain:null,status:"0_no_hostname_configured"}})),r.next=4,null===t||void 0===t?void 0:t(e,s,a);case 4:case"end":return r.stop()}}),r)})))()}},s))},W=(0,x.Pi)((function(e){var t=e.projectRef,s=e.customDomain,n=(0,l.oR)().ui,a=(0,f.useState)(!1),c=a[0],u=a[1],d=B().mutateAsync,p=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Project ref is required");case 2:return e.prev=2,e.next=5,d({projectRef:t});case 5:n.setNotification({category:"success",message:"Successfully deleted custom domain"}),u(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),n.setNotification({category:"error",message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(A.Z.Content,{children:(0,h.jsxs)("div",{className:"w-full space-y-2",children:[(0,h.jsx)("p",{className:"text-xs text-scale-1100",children:"Active custom domain:"}),(0,h.jsx)("div",{className:"flex items-center space-x-2",children:(0,h.jsxs)("code",{className:"text-lg mx-0 flex items-center space-x-2",children:[(0,h.jsx)("div",{className:"h-2 w-2 rounded-full bg-brand-900"}),(0,h.jsx)("span",{children:s.hostname})]})}),(0,h.jsx)("p",{className:"text-sm text-scale-1100",children:"Your custom domain is currently active and is serving traffic"})]})}),(0,h.jsx)("div",{className:"w-full border-t border-scale-400"}),(0,h.jsx)(A.Z.Content,{className:"w-full",children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsx)(k.default,{href:"https://supabase.com/docs/guides/platform/custom-domains",children:(0,h.jsx)("a",{target:"_blank",children:(0,h.jsx)(o.zxk,{type:"default",icon:(0,h.jsx)(o.TqL,{}),children:"Documentation"})})}),(0,h.jsx)(o.zxk,{type:"danger",icon:(0,h.jsx)(o.IT9,{}),onClick:function(){return u(!0)},children:"Delete Custom Domain"})]})}),(0,h.jsx)(b.Z,{danger:!0,visible:c,title:(0,h.jsxs)("div",{children:["Are you sure you want to delete the custom domain"," ",(0,h.jsx)("code",{className:"text-sm",children:s.hostname})," for the project?"]}),description:"Your custom domain will be deactivated. You will need to re-verify your domain if you want to use it again.",buttonLabel:"Delete",buttonLoadingLabel:"Deleting",onSelectCancel:function(){return u(!1)},onSelectConfirm:p})]})})),V=["onSuccess"];function Q(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function G(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(s),!0).forEach((function(t){(0,P.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Q(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function K(e){return H.apply(this,arguments)}function H(){return(H=(0,r.Z)(i().mark((function e(t){var s,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.projectRef){e.next=3;break}throw new Error("projectRef is required");case 3:return e.next=5,(0,d.v_)("".concat(u.Q2,"/projects/").concat(s,"/custom-hostname/reverify"),{});case 5:if(!(r=e.sent).error){e.next=8;break}throw r.error;case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,s=(0,S.Z)(e,V),n=(0,z.NL)();return(0,I.D)((function(e){return K(e)}),G({onSuccess:function(e,s,a){return(0,r.Z)(i().mark((function r(){var o;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=s.projectRef,r.next=3,n.invalidateQueries(_(o));case 3:return r.next=5,null===t||void 0===t?void 0:t(e,s,a);case 5:case"end":return r.stop()}}),r)})))()}},s))},J=function(e){var t=e.type,s=e.name,r=e.value;return(0,h.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,h.jsx)("div",{className:"w-[50px]",children:(0,h.jsx)("p",{className:"font-mono text-base",children:t.toUpperCase()})}),(0,h.jsx)(o.IIB,{readOnly:!0,copy:!0,disabled:!0,className:"input-mono flex-1",value:s,layout:"vertical"}),(0,h.jsx)(o.IIB,{readOnly:!0,copy:!0,disabled:!0,className:"input-mono flex-1",value:r,layout:"vertical"})]})},$=s(33114),ee=(0,x.Pi)((function(e){var t,s,n,a,c,u=e.projectRef,d=e.customDomain,p=e.settings,m=(0,l.oR)().ui,x=(0,f.useState)(!1),j=x[0],v=x[1],b=X({onSuccess:function(e){"2_initiated"===e.status&&v(!0)}}),g=b.mutate,y=b.isLoading,w=B(),N=w.mutateAsync,O=w.isLoading,P=null===(t=d.ssl.validation_errors)||void 0===t?void 0:t.reduce((function(e,t){return e||t.message.includes("caa_error")}),!1),S=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}throw new Error("Project ref is required");case 2:return e.prev=2,e.next=5,N({projectRef:u});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),m.setNotification({category:"error",message:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(A.Z.Content,{className:"space-y-6",children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)("h4",{className:"text-scale-1200 mb-2",children:["Configure TXT verification for your custom domain"," ",(0,h.jsx)("code",{className:"text-sm",children:d.hostname})]}),(0,h.jsx)("p",{className:"text-sm text-scale-1100",children:"Set the following TXT record(s) in your DNS provider, then click verify to confirm your control over the domain"}),(0,h.jsx)("p",{className:"text-sm text-scale-1100",children:"Records which have been successfully verified will be removed from this list below."}),(0,h.jsx)("div",{className:"mt-4 mb-2",children:(0,h.jsx)($.Z,{hideCollapse:!0,defaultVisibility:!0,icon:j?(0,h.jsx)(o.Ldj,{className:"text-scale-1100",strokeWidth:1.5}):(0,h.jsx)(o.Sus,{className:"text-scale-1100",strokeWidth:1.5}),title:j?"Unable to verify records from DNS provider yet.":"Please note that it may take up to 24 hours for the DNS records to propagate.",description:j?(0,h.jsxs)("div",{className:"space-y-1",children:[(0,h.jsx)("p",{children:"Do check again in a bit as it may take up to 24 hours for changes in DNS records to propagate."}),(0,h.jsxs)("p",{children:["You may also visit"," ",(0,h.jsx)(k.default,{href:"https://whatsmydns.net/#TXT/".concat(d.hostname),children:(0,h.jsx)("a",{className:"text-brand-900",children:"here"})})," ","to check if your DNS has been propagated successfully before clicking verify."]})]}):(0,h.jsxs)("p",{children:["You may also visit"," ",(0,h.jsx)(k.default,{href:"https://whatsmydns.net/#TXT/".concat(d.hostname),children:(0,h.jsx)("a",{className:"text-brand-900",children:"here"})})," ","to check if your DNS has been propagated successfully before clicking verify."]})})})]}),P&&(0,h.jsxs)(o.bZj,{withIcon:!0,variant:"warning",title:"Certificate Authority Authentication (CAA) error",children:['Please add a CAA record allowing "digicert.com" to issue certificates for'," ",(0,h.jsx)("code",{className:"text-xs",children:d.hostname}),". For example:"," ",(0,h.jsx)("code",{className:"text-xs",children:'0 issue "digicert.com"'})]}),(0,h.jsxs)("div",{className:"space-y-2",children:[(0,h.jsxs)("div",{className:"flex gap-4",children:[(0,h.jsx)("div",{className:"w-[50px]",children:(0,h.jsx)("p",{className:"text-scale-1100 text-sm",children:"Type"})}),(0,h.jsx)("div",{className:"text-sm grid gap-2 md:grid md:grid-cols-12 md:gap-x-4 input-mono flex-1",children:(0,h.jsx)("div",{className:"flex flex-row space-x-2 justify-between col-span-12",children:(0,h.jsx)("label",{className:"block text-scale-1100 text-sm break-all",children:"Name"})})}),(0,h.jsx)("div",{className:"text-sm grid gap-2 md:grid md:grid-cols-12 md:gap-x-4 input-mono flex-1",children:(0,h.jsx)("div",{className:"flex flex-row space-x-2 justify-between col-span-12",children:(0,h.jsx)("label",{className:"block text-scale-1100 text-sm break-all",children:"Content"})})})]}),(null===(s=d.verification_errors)||void 0===s?void 0:s.includes("custom hostname does not CNAME to this zone."))&&(0,h.jsx)(J,{type:"CNAME",name:d.hostname,value:null!==(n=null===p||void 0===p?void 0:p.autoApiService.endpoint)&&void 0!==n?n:"Loading..."}),d.ownership_verification&&(0,h.jsx)(J,{type:d.ownership_verification.type,name:d.ownership_verification.name,value:d.ownership_verification.value}),"pending_validation"===d.ssl.status&&(0,h.jsx)(J,{type:"TXT",name:null!==(a=d.ssl.txt_name)&&void 0!==a?a:"Loading...",value:null!==(c=d.ssl.txt_value)&&void 0!==c?c:"Loading..."}),"pending_deployment"===d.ssl.status&&(0,h.jsxs)("div",{className:"flex items-center justify-center space-x-2 py-8",children:[(0,h.jsx)(o.Ldj,{size:16,strokeWidth:1.5}),(0,h.jsx)("p",{className:"text-sm text-scale-1100",children:"SSL certificate is being deployed. Please wait a few minutes and try again."})]})]}),(0,h.jsxs)("div",{className:"!mt-4",children:[(0,h.jsx)("p",{className:"text-sm text-scale-1000",children:"One of the records requires you to replace the CNAME record set up in the first step with a TXT record."}),(0,h.jsx)("p",{className:"text-sm text-scale-1000",children:"You'll be able to restore it back to the CNAME after the verification process has been completed."})]})]}),(0,h.jsx)("div",{className:"border-t border-scale-400"}),(0,h.jsx)(A.Z.Content,{children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsx)(k.default,{href:"https://supabase.com/docs/guides/platform/custom-domains",children:(0,h.jsx)("a",{target:"_blank",children:(0,h.jsx)(o.zxk,{type:"default",icon:(0,h.jsx)(o.TqL,{}),children:"Documentation"})})}),(0,h.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,h.jsx)(o.zxk,{type:"default",onClick:S,loading:O,disabled:O||y,className:"self-end",children:"Cancel"}),(0,h.jsx)(o.zxk,{icon:(0,h.jsx)(o.Kdl,{}),onClick:function(){if(!u)throw new Error("Project ref is required");g({projectRef:u})},loading:y,disabled:O||y,className:"self-end",children:"Verify"})]})]})})]})})),te=["onSuccess"];function se(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function re(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?se(Object(s),!0).forEach((function(t){(0,P.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):se(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function ne(e){return ae.apply(this,arguments)}function ae(){return(ae=(0,r.Z)(i().mark((function e(t){var s,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.projectRef){e.next=3;break}throw new Error("projectRef is required");case 3:return e.next=5,(0,d.v_)("".concat(u.Q2,"/projects/").concat(s,"/custom-hostname/activate"),{});case 5:if(!(r=e.sent).error){e.next=8;break}throw r.error;case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,s=(0,S.Z)(e,te),n=(0,z.NL)();return(0,I.D)((function(e){return ne(e)}),re({onSuccess:function(e,s,a){return(0,r.Z)(i().mark((function r(){var o;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=s.projectRef,r.next=3,n.invalidateQueries(_(o));case 3:return r.next=5,null===t||void 0===t?void 0:t(e,s,a);case 5:case"end":return r.stop()}}),r)})))()}},s))},oe=(0,x.Pi)((function(e){var t=e.projectRef,s=e.customDomain,n=(0,l.oR)().ui,a=(0,f.useState)(!1),c=a[0],u=a[1],d=ie().mutateAsync,p=B(),m=p.mutateAsync,x=p.isLoading,j=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Project ref is required");case 2:return e.prev=2,e.next=5,d({projectRef:t});case 5:n.setNotification({category:"success",message:"Successfully activated custom domain"}),u(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),n.setNotification({category:"error",message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Project ref is required");case 2:return e.prev=2,e.next=5,m({projectRef:t});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),n.setNotification({category:"error",message:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"flex flex-col items-start",children:[(0,h.jsx)(A.Z.Content,{children:(0,h.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,h.jsxs)("h4",{className:"text-scale-1200",children:["Setup complete! Press activate to enable the custom domain"," ",(0,h.jsx)("code",{className:"text-sm",children:s.hostname})," for this project."]}),(0,h.jsx)("span",{className:"text-sm text-scale-1100",children:"We recommend that you schedule a downtime window of 20 - 30 minutes for your application, as you will need to update any services that need to know about your custom domain (e.g client side code or OAuth providers)"})]})}),(0,h.jsx)("div",{className:"w-full border-t border-scale-400"}),(0,h.jsx)(A.Z.Content,{className:"w-full",children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsx)(k.default,{href:"https://supabase.com/docs/guides/platform/custom-domains",children:(0,h.jsx)("a",{target:"_blank",children:(0,h.jsx)(o.zxk,{type:"default",icon:(0,h.jsx)(o.TqL,{}),children:"Documentation"})})}),(0,h.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,h.jsx)(o.zxk,{type:"default",onClick:v,loading:x,disabled:x,className:"self-end",children:"Cancel"}),(0,h.jsx)(o.zxk,{icon:(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"w-4 h-4",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"})}),disabled:x,onClick:function(){return u(!0)},className:"self-end",children:"Activate"})]})]})})]}),(0,h.jsx)(b.Z,{size:"small",visible:c,title:(0,h.jsxs)("div",{children:["Are you sure you want to activate the custom domain"," ",(0,h.jsx)("code",{className:"text-sm",children:s.hostname})," for the project?"]}),description:"The existing Supabase subdomain will be deactivated.",buttonLabel:"Activate",buttonLoadingLabel:"Activating",onSelectCancel:function(){return u(!1)},onSelectConfirm:j})]})})),ce=s(14633),le=["onSuccess"];function ue(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function de(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(s),!0).forEach((function(t){(0,P.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ue(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function pe(e){return he.apply(this,arguments)}function he(){return(he=(0,r.Z)(i().mark((function e(t){var s,r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.projectRef,r=t.customDomain,s){e.next=3;break}throw new Error("projectRef is required");case 3:return e.next=5,(0,d.v_)("".concat(u.Q2,"/projects/").concat(s,"/custom-hostname/initialize"),{custom_hostname:r});case 5:if(!(n=e.sent).error){e.next=8;break}throw n.error;case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,s=(0,S.Z)(e,le),n=(0,z.NL)();return(0,I.D)((function(e){return pe(e)}),de({onSuccess:function(e,s,a){return(0,r.Z)(i().mark((function r(){var o;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=s.projectRef,r.next=3,n.invalidateQueries(_(o));case 3:return r.next=5,null===t||void 0===t?void 0:t(e,s,a);case 5:case"end":return r.stop()}}),r)})))()}},s))},xe=ce.object({domain:ce.string().required("A value for your custom domain is required")}),fe=(0,x.Pi)((function(){var e=(0,l.oR)().ui,t=(0,l.UO)().ref,s=me().mutateAsync,n=(0,O.qP)({projectRef:t}).data,a="custom-domains-form",u=null===n||void 0===n?void 0:n.autoApiService.endpoint,d=(0,l.FH)(c.KA.UPDATE,"projects"),m=function(){var e=(0,r.Z)(i().mark((function e(t){var s,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://1.1.1.1/dns-query?name=".concat(t),{method:"GET",headers:{accept:"application/dns-json"}});case 2:return s=e.sent,e.next=5,s.json();case 5:return r=e.sent,e.abrupt("return",0===r.Status);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var n=(0,r.Z)(i().mark((function r(n){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=2;break}throw new Error("Project ref is required");case 2:return r.next=4,m(n.domain);case 4:if(r.sent){r.next=7;break}return r.abrupt("return",e.setNotification({category:"error",message:"Your CNAME record for ".concat(n.domain," cannot be found - if you've just added the CNAME record, do check back in a bit.")}));case 7:return r.prev=7,r.next=10,s({projectRef:t,customDomain:n.domain});case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(7),e.setNotification({category:"error",message:r.t0.message});case 15:case"end":return r.stop()}}),r,null,[[7,12]])})));return function(e){return n.apply(this,arguments)}}();return(0,h.jsx)(o.l09,{id:a,initialValues:{domain:""},validationSchema:xe,onSubmit:x,children:function(e){var t=e.isSubmitting,s=e.handleReset,r=e.values,n=e.initialValues,i=JSON.stringify(r)!==JSON.stringify(n);return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(p.by,{disabled:!d,footer:(0,h.jsx)("div",{className:"flex py-4 px-8",children:(0,h.jsx)(p.iN,{form:a,isSubmitting:t,submitText:"Add",hasChanges:i,handleReset:s,disabled:!1,helper:d?(0,h.jsx)(k.default,{href:"https://supabase.com/docs/guides/platform/custom-domains",children:(0,h.jsx)("a",{target:"_blank",children:(0,h.jsx)(o.zxk,{type:"default",icon:(0,h.jsx)(o.TqL,{}),children:"Documentation"})})}):"You need additional permissions to update your project's custom domain settings"})}),children:[(0,h.jsx)(p.hj,{header:(0,h.jsx)(p.S0,{children:"Add a custom domain"}),children:(0,h.jsx)(p.B4,{loading:!1,children:(0,h.jsx)(o.IIB,{id:"domain",disabled:!d,className:"w-full",type:"text",name:"domain",placeholder:"subdomain.example.com"})})}),(0,h.jsx)(p.hj,{header:(0,h.jsx)(p.S0,{children:"Configure a CNAME record"}),children:(0,h.jsxs)("p",{className:"col-span-12 text-sm lg:col-span-7 leading-6",children:["Set up a CNAME record for"," ",r.domain?(0,h.jsx)("code",{className:"text-xs",children:r.domain}):"your custom domain",", resolving to"," ",u?(0,h.jsx)("code",{className:"text-xs",children:u}):"your project's API URL",", with as low a TTL as possible."]})})]})})}})})),je=function(){return(0,h.jsxs)("div",{className:"grid grid-cols-12 gap-6 px-8 py-8",children:[(0,h.jsx)("div",{className:"col-span-12 lg:col-span-5",children:(0,h.jsx)("div",{className:"h-6 w-1/3 bg-scale-1000 rounded shimmering-loader"})}),(0,h.jsx)("div",{className:"col-span-12 lg:col-span-7",children:(0,h.jsx)("div",{className:"h-[38px] w-full bg-scale-1000 rounded shimmering-loader"})})]})},ve=(0,x.Pi)((function(){var e,t=(0,l.oR)().ui,s=(0,l.UO)().ref,r=null===(e=t.selectedProject)||void 0===e?void 0:e.subscription_tier,n=(0,O.qP)({projectRef:s}),a=n.isLoading,i=n.data,c=function(e){var t=e.projectRef,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=s.enabled,n=void 0===r||r,a=(0,S.Z)(s,C);return(0,R.a)(_(t),(function(e){var s=e.signal;return Z({projectRef:t},s)}),E({enabled:n&&"undefined"!==typeof t},a))}({projectRef:s}),d=c.isLoading,m=c.isError,x=c.isSuccess,f=c.data,j=a||d;return(0,h.jsxs)("section",{children:[(0,h.jsx)(p.ph,{title:"Custom Domains",description:"Present a branded experience to your users"}),"0_no_hostname_configured"===(null===f||void 0===f?void 0:f.status)?(0,h.jsx)(fe,{}):(0,h.jsxs)(A.Z,{children:[j&&(0,h.jsx)(A.Z.Content,{className:"space-y-6",children:(0,h.jsx)(je,{})}),"0_not_allowed"===(null===f||void 0===f?void 0:f.status)&&(0,h.jsx)(A.Z.Content,{className:"space-y-6",children:(0,h.jsx)(L.Z,{icon:(0,h.jsx)(o.Ldj,{size:18,strokeWidth:1.5}),primaryText:"Custom domains are a Pro plan add-on",projectRef:s,secondaryText:r===u.ev.FREE?"To configure a custom domain for your project, please upgrade to the Pro plan with the custom domains add-on selected":"To configure a custom domain for your project, please enable the add-on"})}),m&&(0,h.jsx)(A.Z.Content,{className:"space-y-6",children:(0,h.jsxs)("div",{className:"flex items-center justify-center space-x-2 py-8",children:[(0,h.jsx)(o.Ldj,{size:16,strokeWidth:1.5}),(0,h.jsxs)("p",{className:"text-sm text-scale-1100",children:["Failed to retrieve custom domain configuration. Please try again later or"," ",(0,h.jsx)(k.default,{href:"/support/new?ref=".concat(s,"&category=sales"),children:(0,h.jsx)("a",{className:"underline",children:"contact support"})}),"."]})]})}),x&&(0,h.jsxs)("div",{className:"flex flex-col",children:[("2_initiated"===f.status||"3_challenge_verified"===f.status)&&(0,h.jsx)(ee,{projectRef:s,customDomain:f.customDomain,settings:i}),"4_origin_setup_completed"===f.status&&(0,h.jsx)(oe,{projectRef:s,customDomain:f.customDomain}),"5_services_reconfigured"===f.status&&(0,h.jsx)(W,{projectRef:s,customDomain:f.customDomain})]})]})]})})),be=s(44198),ge=s(64795),ye=function(e){var t,s=e.type,n=void 0===s?"danger":s,a=(0,j.useRouter)(),p=(0,l.oR)(),m=p.app,x=p.ui,b=x.selectedProject,g=null===b||void 0===b?void 0:b.ref,y=(null!==(t=null===b||void 0===b?void 0:b.subscription_tier)&&void 0!==t?t:u.ev.FREE)===u.ev.FREE,w=(0,f.useState)(!1),N=w[0],k=w[1],O=(0,f.useState)(!1),P=O[0],S=O[1],R=(0,f.useState)([]),_=R[0],C=R[1],D=(0,f.useState)(""),E=D[0],Z=D[1];(0,f.useEffect)((function(){N&&(C([]),Z(""))}),[N]);var T=(0,l.FH)(c.KA.UPDATE,"projects"),A=function(){P||k(!N)};function L(){return(L=(0,r.Z)(i().mark((function e(){var t,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==b){e.next=2;break}return e.abrupt("return");case 2:if(y||0!==_.length){e.next=4;break}return e.abrupt("return",x.setNotification({category:"error",duration:4e3,message:"Please select at least one reason for deleting your project"}));case 4:return S(!0),e.prev=5,e.next=8,(0,d.$v)("".concat(u.T5,"/projects/").concat(g));case 8:if(!(t=e.sent).error){e.next=11;break}throw t.error;case 11:m.onProjectDeleted(t),x.setNotification({category:"success",message:"Successfully deleted ".concat(b.name)}),a.push("/projects"),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),S(!1),x.setNotification({category:"error",message:"Failed to delete project ".concat(b.name,": ").concat(e.t0.message)});case 20:if(y){e.next=26;break}return e.next=23,(0,d.v_)("".concat(u.T5,"/feedback/downgrade"),{projectRef:g,reasons:_.reduce((function(e,t){return"".concat(e,"- ").concat(t,"\n")}),""),additionalFeedback:E,exitAction:"delete"});case 23:if(!(s=e.sent).error){e.next=26;break}throw s.error;case 26:case"end":return e.stop()}}),e,null,[[5,16]])})))).apply(this,arguments)}return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(v.fC,{delayDuration:0,children:[(0,h.jsx)(v.xz,{children:(0,h.jsx)(o.zxk,{onClick:A,type:n,disabled:!T,children:"Delete project"})}),!T&&(0,h.jsxs)(v.VY,{side:"bottom",children:[(0,h.jsx)(v.Eh,{className:"radix-tooltip-arrow"}),(0,h.jsx)("div",{className:["rounded bg-scale-100 py-1 px-2 leading-none shadow","border border-scale-200 "].join(" "),children:(0,h.jsx)("span",{className:"text-xs text-scale-1200",children:"You need additional permissions to delete this project"})})]})]}),(0,h.jsx)(be.Z,{visible:N,loading:P,size:y?"small":"xlarge",title:"Confirm deletion of ".concat(null===b||void 0===b?void 0:b.name),alert:y?"This action cannot be undone.":"This will permanently delete the ".concat(null===b||void 0===b?void 0:b.name," project and all of its data, and cannot be undone"),text:y?"This will permanently delete the ".concat(null===b||void 0===b?void 0:b.name," project and all of its data."):void 0,confirmPlaceholder:"Type the project name in here",confirmString:(null===b||void 0===b?void 0:b.name)||"",confirmLabel:"I understand, delete this project",onConfirm:function(){return L.apply(this,arguments)},onCancel:A,children:!y&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"space-y-1",children:[(0,h.jsx)("h4",{className:"text-base",children:"We're sad that you're leaving."}),(0,h.jsx)("p",{className:"text-sm text-scale-1100",children:"We always strive to improve Supabase as much as we can. Please let us know the reasons you are deleting your project so that we can improve in the future."})]}),(0,h.jsxs)("div",{className:"space-y-4 pt-4",children:[(0,h.jsx)("div",{className:"flex flex-wrap gap-2","data-toggle":"buttons",children:ge.Y.map((function(e){var t=_.find((function(t){return t===e}));return(0,h.jsxs)("label",{className:["flex cursor-pointer items-center space-x-2 rounded-md py-1","pl-2 pr-3 text-center text-sm shadow-sm transition-all duration-100","".concat(t?" bg-scale-1200 text-scale-100 opacity-100 hover:bg-opacity-75":" bg-scale-700 text-scale-1200 opacity-25 hover:opacity-50")].join(" "),children:[(0,h.jsx)("input",{type:"checkbox",name:"options",value:e,className:"hidden",onClick:function(e){return function(e){var t=void 0===_.find((function(t){return t===e}))?_.concat([e]):_.filter((function(t){return t!==e}));C(t)}(e.target.value)}}),(0,h.jsx)("div",{children:e})]},e)}))}),(0,h.jsx)("div",{className:"text-area-text-sm",children:(0,h.jsx)(o.IIB.TextArea,{name:"message",label:"Anything else that we can improve on?",rows:3,value:E,onChange:function(e){return Z(e.target.value)}})})]})]})})]})},we=function(e){return(0,n.Z)(e),void 0===(0,l.oR)().ui.selectedProject?(0,h.jsx)(h.Fragment,{}):(0,h.jsxs)("section",{children:[(0,h.jsx)(p.ph,{title:"Delete Project",description:""}),(0,h.jsx)(A.Z,{children:(0,h.jsx)(A.Z.Content,{children:(0,h.jsx)(o.bZj,{variant:"danger",withIcon:!0,title:"Deleting this project will also remove your database.",children:(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"mb-4 block",children:"Make sure you have made a backup if you want to keep your data."}),(0,h.jsx)(ye,{})]})})})})]})}},33003:function(e,t,s){s.d(t,{iN:function(){return m},ph:function(){return i},by:function(){return p},hj:function(){return c},B4:function(){return d},S0:function(){return l},ld:function(){return n}});var r=s(24246);function n(e){return(0,r.jsxs)("div",{className:"mx-auto max-w-4xl px-5 pt-12 pb-20",children:[e.header&&(0,r.jsx)("h1",{className:"text-scale-1200 mb-8 text-3xl",children:e.header}),(0,r.jsx)("div",{className:"space-y-20",children:e.children})]})}var a=s(87190),i=function(e){var t=e.title,s=e.description;return(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-scale-1200 mb-2 text-xl",children:(0,r.jsx)(a.D,{unwrapDisallowed:!0,disallowedElements:["p"],children:t})}),(0,r.jsx)("div",{className:"text-scale-900 text-sm",children:(0,r.jsx)(a.D,{children:s})})]})},o=s(27378),c=function(e){var t=e.children,s=e.header,n=e.disabled,a=e.visible,i=void 0===a||a,o=e.className,c=["grid grid-cols-12 gap-6 px-8 py-8","".concat(n?" opacity-30":" opacity-100"),"".concat(i?" block":" hidden"),"".concat(o)];return(0,r.jsxs)("div",{className:c.join(" "),children:[s,t]})},l=function(e){var t=e.children,s=e.className,n=void 0===s?"":s,a=e.description;return void 0!==a?(0,r.jsxs)("div",{className:"flex flex-col space-y-2 col-span-12 lg:col-span-5 ".concat(n),children:[(0,r.jsx)("label",{className:"text-scale-1200 text-sm",children:t}),a]}):(0,r.jsx)("label",{className:"text-scale-1200 col-span-12 text-sm lg:col-span-5 ".concat(n),children:t})},u=function(){return(0,r.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,r.jsx)("div",{className:"shimmering-loader h-2 w-1/3 rounded"}),(0,r.jsx)("div",{className:"flex flex-col justify-between space-y-2",children:(0,r.jsx)("div",{className:"shimmering-loader h-[34px] w-2/3 rounded"})})]})},d=function(e){var t=e.children,s=e.loading,n=void 0===s||s,a=e.fullWidth,i=e.className;return(0,r.jsx)("div",{className:"\n        relative col-span-12 flex flex-col gap-6 lg:col-span-7\n        ".concat(a&&"!col-span-12","\n        ").concat(i,"\n      "),children:n?o.Children.map(t,(function(e){return(0,r.jsx)(u,{})})):t})},p=function(e){var t=e.children,s=e.header,n=e.footer;return(0,r.jsxs)("div",{className:" bg-scale-100 dark:bg-scale-300 border-scale-400 overflow-hidden  rounded-md border shadow",children:[s&&(0,r.jsx)("div",{className:" border-scale-400 border-b px-8 py-4",children:s}),(0,r.jsx)("div",{className:"divide-scale-400 flex flex-col gap-0 divide-y",children:t}),n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"border-scale-400 border-t"}),n]})]})},h=s(88983),m=function(e){var t=e.form,s=e.hasChanges,n=void 0===s?void 0:s,a=e.handleReset,i=e.helper,o=e.disabled,c=void 0!==o&&o,l=e.isSubmitting,u=e.submitText,d=void 0===u?"Save":u,p=l||c||!n&&void 0!==n;return(0,r.jsxs)("div",{className:["flex w-full items-center gap-2",i?"justify-between":"justify-end"].join(" "),children:[i&&(0,r.jsx)("span",{className:"text-sm text-scale-900",children:i}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(h.zxk,{disabled:p,type:"default",htmlType:"reset",onClick:function(){return a()},children:"Cancel"}),(0,r.jsx)(h.zxk,{form:t,type:"primary",htmlType:"submit",disabled:p,loading:l,children:d})]})]})}},33114:function(e,t,s){var r=s(79894),n=s(27378),a=s(88983),i=s(24246);t.Z=function(e){var t=e.icon,s=e.title,o=e.description,c=e.url,l=e.urlLabel,u=void 0===l?"Read more":l,d=e.defaultVisibility,p=void 0!==d&&d,h=e.hideCollapse,m=void 0!==h&&h,x=e.button,f=e.className,j=void 0===f?"":f,v=e.block,b=void 0!==v&&v,g=(0,n.useState)(p),y=g[0],w=g[1];return(0,i.jsx)("div",{className:"".concat(b?"block w-full":"","\n      block w-full rounded border border-scale-600 bg-scale-100 py-3 dark:border-scale-500 dark:bg-scale-400 ").concat(j),children:(0,i.jsxs)("div",{className:"flex flex-col px-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex w-full space-x-3 lg:items-start",children:[t&&(0,i.jsx)("span",{className:"text-scale-900",children:t}),(0,i.jsx)("div",{className:"flex-grow",children:(0,i.jsx)("h5",{className:"text-sm text-scale-1200",children:s})})]}),o&&!m?(0,i.jsx)("div",{className:"cursor-pointer text-scale-900",onClick:function(){return w(!y)},children:y?(0,i.jsx)(a.hJz,{size:14,strokeWidth:1.5}):(0,i.jsx)(a.FgK,{size:14,strokeWidth:1.5})}):null]}),(o||c||x)&&(0,i.jsxs)("div",{className:"flex flex-col space-y-3 overflow-hidden transition-all ".concat(y?"mt-3":""),style:{maxHeight:y?500:0},children:[(0,i.jsx)("div",{className:"text-scale-1100 text-sm",children:o}),c&&(0,i.jsx)(r.default,{href:c,children:(0,i.jsx)("a",{target:"_blank",className:"pt-2",children:(0,i.jsx)(a.zxk,{type:"default",icon:(0,i.jsx)(a.TqL,{}),children:u})})}),x&&(0,i.jsx)("div",{children:x})]})]})})}},69497:function(e,t,s){var r=s(88983),n=s(25229),a=s(79894),i=s(24532),o=s(42791),c=s(20796),l=s(68043),u=s(24246);t.Z=(0,n.Pi)((function(e){var t,s=e.icon,n=e.primaryText,d=(e.projectRef,e.secondaryText),p=(0,o.oR)().ui,h=(0,o.UO)().ref,m=null===(t=p.selectedProject)||void 0===t?void 0:t.subscription_tier,x=(0,o.FH)(l.KA.BILLING_WRITE,"stripe.subscriptions"),f=(0,o.P5)("disableProjectCreationAndUpdate"),j=m===c.ev.ENTERPRISE;return(0,u.jsx)("div",{className:["block w-full rounded border border-opacity-20 py-4 px-6","border-gray-600 bg-gray-100","dark:border-gray-300 dark:bg-gray-400"].join(" "),children:(0,u.jsxs)("div",{className:"flex space-x-3",children:[s&&(0,u.jsx)("div",{className:"mt-1",children:s}),(0,u.jsxs)("div",{className:"flex w-full items-center justify-between space-x-32",children:[(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("p",{className:"text-sm",children:n}),(0,u.jsx)("div",{children:(0,u.jsx)("p",{className:"text-sm text-scale-1100",children:d})})]}),(0,u.jsxs)(i.fC,{delayDuration:0,children:[(0,u.jsx)(i.xz,{children:(0,u.jsx)(r.zxk,{type:"primary",disabled:!x||f,children:(0,u.jsx)(a.default,{href:"/project/".concat(h,j?"/settings/billing/update/enterprise":"/settings/billing/update"),children:(0,u.jsx)("a",{children:m===c.ev.FREE?"Upgrade to Pro":"Modify subscription"})})})}),!x||f?(0,u.jsxs)(i.VY,{side:"bottom",children:[(0,u.jsx)(i.Eh,{className:"radix-tooltip-arrow"}),(0,u.jsx)("div",{className:["border border-scale-200 text-center","rounded bg-scale-100 py-1 px-2 leading-none shadow"].join(" "),children:(0,u.jsx)("span",{className:"text-xs text-scale-1200",children:f?(0,u.jsxs)(u.Fragment,{children:["Subscription changes are currently disabled.",(0,u.jsx)("br",{}),"Our engineers are working on a fix."]}):x?"":"You need additional permissions to amend subscriptions"})})]}):(0,u.jsx)(u.Fragment,{})]})]})]})})}))},48228:function(e,t,s){s.d(t,{D:function(){return p}});var r=s(27378),n=s(464),a=s(89886),i=s(30081),o=s(33989),c=s(32161);class l extends o.l{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.client.defaultMutationOptions(e),(0,c.VS)(t,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this})}onUnsubscribe(){var e;this.listeners.length||(null==(e=this.currentMutation)||e.removeObserver(this))}onMutationUpdate(e){this.updateResult();const t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:"undefined"!==typeof e?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:(0,a.R)(),t={...e,isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset};this.currentResult=t}notify(e){i.V.batch((()=>{var t,s,r,n;if(this.mutateOptions)if(e.onSuccess)null==(t=(s=this.mutateOptions).onSuccess)||t.call(s,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(r=(n=this.mutateOptions).onSettled)||r.call(n,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context);else if(e.onError){var a,i,o,c;null==(a=(i=this.mutateOptions).onError)||a.call(i,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(o=(c=this.mutateOptions).onSettled)||o.call(c,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}e.listeners&&this.listeners.forEach((e=>{e(this.currentResult)}))}))}}var u=s(85945),d=s(24798);function p(e,t,s){const a=(0,c.lV)(e,t,s),o=(0,u.NL)({context:a.context}),[p]=r.useState((()=>new l(o,a)));r.useEffect((()=>{p.setOptions(a)}),[p,a]);const m=(0,n.$)(r.useCallback((e=>p.subscribe(i.V.batchCalls(e))),[p]),(()=>p.getCurrentResult()),(()=>p.getCurrentResult())),x=r.useCallback(((e,t)=>{p.mutate(e,t).catch(h)}),[p]);if(m.error&&(0,d.L)(p.options.useErrorBoundary,[m.error]))throw m.error;return{...m,mutate:x,mutateAsync:m.mutate}}function h(){}}}]);
//# sourceMappingURL=3168-3b7369195e422fc5.js.map