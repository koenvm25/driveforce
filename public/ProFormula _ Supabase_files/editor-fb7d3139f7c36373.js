(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9578],{40660:function(e,t,n){"use strict";n.r(t);var a=n(55732),c=n(34707),o=n.n(c),i=n(27378),l=n(86677),r=n(25229),s=n(98784),u=n(42791),d=n(80172),f=n(7173),b=n(63840),p=n(24246);t.default=(0,u.QO)((0,r.Pi)((function(){var e,t=(0,u.oR)(),n=t.meta,c=t.ui,r=null===(e=c.selectedProject)||void 0===e?void 0:e.ref,h=(0,i.useState)(),v=h[0],m=h[1],S=(0,i.useState)(!1),_=S[0],w=S[1],T=(0,i.useState)(!1),x=T[0],g=T[1],j=(0,i.useState)("public"),y=j[0],N=j[1],k=(0,i.useState)(),E=k[0],C=k[1],P=(0,i.useState)(),D=P[0],A=P[1],L=function(){m("table"),g(!1),C(void 0)},O=function(){var e=(0,a.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.tables.del(D.id);case 3:return w(!1),c.setNotification({category:"success",message:"Successfully deleted ".concat(D.name)}),e.next=7,n.views.loadBySchema(y);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),c.setNotification({category:"error",message:"Failed to delete ".concat(D.name)});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,p.jsxs)(d.lz,{selectedSchema:y,onSelectSchema:N,onAddTable:L,onEditTable:function(e){m("table"),g(!1),C(e)},onDeleteTable:function(e){w(!0),A(e)},onDuplicateTable:function(e){m("table"),g(!0),C(e)},children:[(0,p.jsx)(f.ub,{selectedSchema:y,onAddTable:L}),(0,p.jsx)(b.Z,{danger:!0,visible:_&&!(0,s.isUndefined)(D),header:(0,p.jsx)("span",{className:"break-words",children:'Confirm deletion of table "'.concat(null===D||void 0===D?void 0:D.name,'"')}),description:"Are you sure you want to delete the selected table? This action cannot be undone",buttonLabel:"Delete",buttonLoadingLabel:"Deleting",onSelectCancel:function(){return w(!1)},onSelectConfirm:O}),(0,p.jsx)(f.l5,{selectedSchema:y,isDuplicating:x,selectedTableToEdit:E,sidePanelKey:v,closePanel:function(){m(void 0)},onTableCreated:function(e){return l.default.push("/project/".concat(r,"/editor/").concat(e.id))}})]})})))},24640:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/editor",function(){return n(40660)}])}},function(e){e.O(0,[8143,5813,9731,7190,1607,7571,9526,113,7173,9774,2888,179],(function(){return t=24640,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=editor-fb7d3139f7c36373.js.map