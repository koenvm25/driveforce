(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5885],{11008:function(e,s,n){"use strict";n.r(s);var t=n(11246),a=n(27378),i=n(98784),l=n(88983),c=n(25229),r=n(68043),o=n(42791),u=n(80172),d=n(1016),m=n(38230),h=n(24246),f=function(e,s,n){if(n){var t=n.toLowerCase(),a=s.filter((function(e){return e.name.toLowerCase().includes(t)}));return e.slice().filter((function(e){return e.name.toLowerCase().includes(t)||e.id.toString()===t||a.some((function(s){return s.table===e.name}))})).sort((function(e,s){return e.name.localeCompare(s.name)}))}return e.slice().sort((function(e,s){return e.name.localeCompare(s.name)}))},x=function(){var e=(0,o.oR)().meta,s=(0,o.UO)().search,n=(0,a.useState)("public"),c=n[0],u=n[1],x=(0,a.useState)(""),p=x[0],j=x[1];(0,a.useEffect)((function(){s&&j(s)}),[s]);var v=e.schemas.list(),N=(0,i.partition)(v,(function(s){var n;return e.excludedSchemas.includes(null!==(n=null===s||void 0===s?void 0:s.name)&&void 0!==n?n:"")})),b=(0,t.Z)(N,2),_=b[0],w=b[1],T=v.find((function(e){return e.name===c})),k=_.some((function(e){return e.id===(null===T||void 0===T?void 0:T.id)})),g=e.policies.list(),C=e.tables.list((function(e){return e.schema===c})),E=f(C,g,p);return(0,o.FH)(r.KA.TENANT_SQL_ADMIN_READ,"policies")?(0,h.jsxs)("div",{className:"flex flex-col h-full",children:[(0,h.jsx)("div",{className:"mb-4",children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,h.jsx)("div",{className:"w-[230px]",children:(0,h.jsxs)(l.RiT,{size:"small",value:c,onChange:function(e){u(e),j("")},icon:k&&(0,h.jsx)(l._V1,{size:14,strokeWidth:2}),children:[(0,h.jsx)(l.RiT.Option,{disabled:!0,value:"normal-schemas",label:"Schemas",children:(0,h.jsx)("p",{className:"text-sm",children:"Schemas"})},"normal-schemas"),w.map((function(e){return(0,h.jsx)(l.RiT.Option,{value:e.name,label:e.name,addOnBefore:function(){return(0,h.jsx)("span",{className:"text-scale-900",children:"schema"})},children:(0,h.jsx)("span",{className:"text-scale-1200 text-sm",children:e.name})},e.id)})),(0,h.jsx)(l.RiT.Option,{disabled:!0,value:"protected-schemas",label:"Protected schemas",children:(0,h.jsx)("p",{className:"text-sm",children:"Protected schemas"})},"protected-schemas"),_.map((function(e){return(0,h.jsx)(l.RiT.Option,{value:e.name,label:e.name,addOnBefore:function(){return(0,h.jsx)("span",{className:"text-scale-900",children:"schema"})},children:(0,h.jsx)("span",{className:"text-scale-1200 text-sm",children:e.name})},e.id)}))]})}),(0,h.jsx)(l.IIB,{size:"small",placeholder:"Filter tables and policies",className:"block w-64 text-sm placeholder-gray-400",value:p,onChange:function(e){return j(e.target.value)},icon:(0,h.jsx)(l.jVj,{size:"tiny"})})]}),(0,h.jsx)("a",{target:"_blank",href:"https://supabase.com/docs/learn/auth-deep-dive/auth-row-level-security",children:(0,h.jsx)(l.zxk,{type:"link",icon:(0,h.jsx)(l.TqL,{size:14,strokeWidth:1.5}),children:"What is RLS?"})})]})}),(0,h.jsx)(d.rE,{tables:E,hasTables:C.length>0,isLocked:k})]}):(0,h.jsx)(m.Z,{isFullPage:!0,resourceText:"view this project's RLS policies"})};x.getLayout=function(e){return(0,h.jsx)(u.g1,{title:"Auth",children:(0,h.jsx)("div",{className:"h-full p-4",children:e})})},s.default=(0,c.Pi)(x)},92430:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/auth/policies",function(){return n(11008)}])}},function(e){e.O(0,[5813,9731,7571,1016,9774,2888,179],(function(){return s=92430,e(e.s=s);var s}));var s=e.O();_N_E=s}]);
//# sourceMappingURL=policies-32744b4afb92f784.js.map